webpackJsonp([6],{CKeQ:function(e,t){},"S72/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8w"),o=a.n(l),n=a("Xvil"),r=a("qcqc"),s=a.n(r);function c(e,t){return s.a.Cloud.run("updateControl",{id:e,obj:t})}var u=a("EcfS"),i={name:"HelloWorld",data:function(){return{courses:{},control:{}}},created:function(){var e=this;s.a.Cloud.run("getCurrentControl").then(function(t){e.$ls.set("control",t),e.control=t}),Object(n.d)().then(function(t){e.courses=t})},mixins:[a("5jRo").a],methods:o()({},Object(u.b)({setCurrentASA:"SET_CURRENT_ASA"}),{add:function(){console.log("add"),this.$router.push("/admin/asa/add")},changeOpen:function(e){var t=this;c(this.control.objectId,{open:e}).then(function(e){101!==JSON.parse(e).code&&t.$notify({message:"更新成功"})})},changeSeen:function(e){var t=this;c(this.control.objectId,{seen:e}).then(function(e){101!==JSON.parse(e).code&&t.$notify({message:"更新成功"})})},select:function(e){this.setCurrentASA(e),this.$router.push("/admin/asa/detail")},downloadStudent:function(){var e=this;Object(n.c)({email:"rainbowhuang@bcis.net.cn",subject:"Student Course",body:"Student Course",filename:"Student Course.csv"}).then(function(t){console.log(t),e.$notify({message:"发送成功"}).catch(function(e){console.log(e)})})},downloadCourse:function(){var e=this;Object(n.b)({email:"rainbowhuang@bcis.net.cn",subject:"ASA Course",body:"ASA Course",filename:"ASA Course.csv"}).then(function(t){e.$notify({message:"发送成功"})})}})},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"row",attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-col",{attrs:{span:5}},[e._v("\n      allow student to choose\n      "),a("el-switch",{on:{change:e.changeOpen},model:{value:e.control.open,callback:function(t){e.$set(e.control,"open",t)},expression:"control.open"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[e._v("\n      allow student to see\n      "),a("el-switch",{on:{change:e.changeSeen},model:{value:e.control.seen,callback:function(t){e.$set(e.control,"seen",t)},expression:"control.seen"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("Add")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary"},on:{click:e.downloadStudent}},[e._v("Student Course")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary"},on:{click:e.downloadCourse}},[e._v("Course")])],1)],1),e._v(" "),a("el-row",{staticClass:"row",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:11}},[e._v("\n      Monday\n      "),a("el-table",{attrs:{border:"",data:e.courses.mon},on:{"row-click":e.select}},[a("el-table-column",{attrs:{prop:"title",width:"160",label:"Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grade",label:"Grade"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fee",label:"Fee"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacherName",label:"Teacher"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitted",label:"Submitted"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[e._v("\n      Tuesday\n      "),a("el-table",{attrs:{border:"",data:e.courses.tue},on:{"row-click":e.select}},[a("el-table-column",{attrs:{prop:"title",width:"160",label:"Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grade",label:"Grade"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fee",label:"Fee"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacherName",label:"Teacher"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitted",label:"Submitted"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"row",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:11}},[e._v("\n      Wednesday\n      "),a("el-table",{attrs:{border:"",data:e.courses.wed},on:{"row-click":e.select}},[a("el-table-column",{attrs:{prop:"title",width:"160",label:"Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grade",label:"Grade"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fee",label:"Fee"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacherName",label:"Teacher"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitted",label:"Submitted"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:11}},[e._v("\n      Thursday\n      "),a("el-table",{attrs:{border:"",data:e.courses.thu},on:{"row-click":e.select}},[a("el-table-column",{attrs:{prop:"title",width:"160",label:"Name"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grade",label:"Grade"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fee",label:"Fee"}}),e._v(" "),a("el-table-column",{attrs:{prop:"teacherName",label:"Teacher"}}),e._v(" "),a("el-table-column",{attrs:{prop:"submitted",label:"Submitted"}})],1)],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(i,d,!1,function(e){a("CKeQ")},"data-v-71baac98",null);t.default=b.exports}});
//# sourceMappingURL=6.543993bb477d2255171a.js.map